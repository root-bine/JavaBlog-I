## 1ã€<span style="color:brown">HashSet<E>é›†åˆï¼š</span>

**1.1ã€æ¦‚è¿°ï¼š**

```scss
1. java.util.HashSet<E>é›†åˆ  implements  Set<E>æ¥å£

2. å“ˆå¸Œè¡¨çš„ç‰¹ç‚¹: æŸ¥è¯¢é€Ÿåº¦å¿«, åˆå§‹å®¹é‡ä¸º: 16
```

**1.2ã€åº•å±‚å­˜å‚¨ç»“æ„ï¼š**

HashSeté›†åˆé€šè¿‡**å“ˆå¸Œè¡¨**ç»“æ„æ¥å®ç°æ•°æ®å­˜å‚¨ï¼š

- JDK1.8ä»¥å‰ï¼š
  - å“ˆå¸Œè¡¨=æ•°ç»„+å•å‘é“¾è¡¨
- JDK1.8ä»¥åï¼š
  - array<64 && linked list<8ï¼šå“ˆå¸Œè¡¨=æ•°ç»„+å•å‘é“¾è¡¨
  - array>=64 && linklist >=8ï¼šå“ˆå¸Œè¡¨=æ•°ç»„+çº¢é»‘æ ‘

**1.3ã€ç‰¹ç‚¹ï¼š**

1. HashSetæ˜¯æ— åºé›†åˆï¼Œå…ƒç´ å­˜å‚¨å’Œå–å‡ºçš„é¡ºåºå¯èƒ½ä¸ä¸€è‡´ï¼›
1. å…ƒç´ æ²¡æœ‰ç´¢å¼•å€¼ï¼Œä¸èƒ½ä½¿ç”¨ç´¢å¼•æŸ¥æ‰¾ï¼›
2. ä¸å…è®¸å­˜å‚¨ç›¸åŒçš„å…ƒç´ ï¼›

**1.4ã€HashSet<E>çš„å·¥ä½œåŸç†ï¼š**ğŸ˜¶â€ğŸŒ«ï¸ğŸ˜¶â€ğŸŒ«ï¸ğŸ˜¶â€ğŸŒ«ï¸

é€šè¿‡çœ‹æºç çŸ¥é“ï¼š<u>HashSet çš„å®ç°æ˜¯ä¾èµ–äº HashMap çš„</u>ï¼Œå¹¶ä¸”**HashSet çš„å€¼éƒ½æ˜¯å­˜å‚¨ åœ¨ HashMap ä¸­çš„**ã€‚

åœ¨ HashSet çš„æ„é€ æ³•ä¸­ä¼š<u>åˆå§‹åŒ–ä¸€ä¸ª HashMap å¯¹è±¡</u>ã€‚

ç”±äº**HashSet ä¸å…è®¸å€¼é‡å¤**ï¼Œå› æ­¤*HashSet çš„å€¼*æ˜¯ä½œä¸º<u>HashMapçš„ key</u> å­˜å‚¨åœ¨ HashMap ä¸­çš„ï¼Œå½“å­˜å‚¨çš„å€¼å·²ç»å­˜åœ¨æ—¶è¿”å› falseã€‚



## 2ã€<span style="color:brown">HashSeté›†åˆçš„æ–¹æ³•ï¼š</span>

```java
boolean add(E e)
```

```java
boolean addAll(Collection<? super E> c)
```

```java
boolean remove(E e)
```

```java
boolean contains(E e)
```

```java
boolean isEmpty()
```

```java
int size()
```

```java
Object[] toArray()
```

```java
void clear()
```



## 3ã€<span style="color:brown">HashSeté›†åˆéå†æ–¹å¼ï¼š</span>

1. å¢å¼ºforå¾ªç¯ï¼š

2. Iteratorè¿­ä»£å™¨éå†ï¼š

   ```java
   public class SetDemo03 {
       public static void main(String[] args) {
           Set<Integer> set= new HashSet<>();
           set.add(1);
           set.add(2);
           set.add(3);
           set.add(5);
           System.out.println(set.contains(4));	//false
           System.out.println(set.isEmpty());		//false
           System.out.println(set.remove(5));		//true
           Object[] array = set.toArray();
           for (Object obj:array) {
               System.out.print(obj+" ");			//1 2 3 
           }
           System.out.println();
           /**
            * å¢å¼ºforå¾ªç¯
            */
           for (Integer i:set) {
               System.out.println(i);				//1ã€2ã€3
           }
           System.out.println("----------------------");
           /**
            * Iteratorè¿­ä»£å™¨
            */
           Iterator<Integer> iterator = set.iterator();
           while(iterator.hasNext()){
               Integer next = iterator.next();
               System.out.println(next);			//1ã€2ã€3
           }
       }
   }
   ```
   



## 4ã€<span style="color:brown">å“ˆå¸Œå€¼</span>

**4.1ã€å“ˆå¸Œå€¼çš„å®šä¹‰ï¼š**

æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<u>åè¿›åˆ¶çš„æ•´æ•°</u>ï¼Œç”±ç³»ç»Ÿéšæœºç»™å‡ºã€‚*å“ˆå¸Œå€¼å°±æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œå³ï¼šé€»è¾‘åœ°å€*, ä¸æ˜¯å®é™…çš„ç‰©ç†åœ°å€ã€‚

**4.2ã€è·å–å“ˆå¸Œå€¼çš„æ–¹æ³•ï¼š**

> nativeï¼šè¡¨ç¤ºè¯¥æ–¹æ³•è°ƒç”¨çš„æ˜¯æœ¬åœ°æ“ä½œç³»ç»Ÿçš„æ–¹æ³•

>  Objectæ˜¯æ‰€æœ‰ç±»çš„é»˜è®¤çˆ¶ç±»ï¼Œå› æ­¤ç±»å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•

```java
int hashCode()
    1.java.lang.Object
    2.è¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œå€¼
    3.è¯¥æ–¹æ³•å¦‚æœè¢«é‡å†™ï¼Œåˆ™è¿”å›çš„å“ˆå¸Œå€¼æ˜¯ä¿®æ”¹åçš„æ•°å€¼ï¼Œä¸å†ç”±ç³»ç»Ÿéšæœºç»™å‡º;
```

**4.3ã€ä»£ç æ¼”ç¤ºï¼š**

```java
public class HashSetDemo {
    public static void main(String[] args) {
        Person p1 = new Person();
        Person p2 = new Person();
        int code1 = p1.hashCode();
        int code2 = p2.hashCode();
        System.out.println(code1);//856419764
        System.out.println(code2);//621009875
        /**
         * toString()æ–¹æ³•æºç ï¼š
         *          return getClass().getName()+"@"+Integer.toHexString(hashCode());
         */
        System.out.println(p1);//practice.Person@330bedb4
        System.out.println(p2);//practice.Person@2503dbd3
        System.out.println(p1==p2);//false
        String s1 = new String("abc");
        String s2 = new String("abc");
        System.out.println(s1.hashCode());//96354
        System.out.println(s2.hashCode());//96354
        System.out.println("é‡åœ°".hashCode());//1179395
        System.out.println("é€šè¯".hashCode());//1179395

    }
}
```



## 5ã€<span style="color:brown">å“ˆå¸Œè¡¨ï¼š</span>

**5.1ã€åŸç†ï¼š**

1. æ•°ç»„ç»“æ„ï¼š

   ```apl
   æŠŠå…ƒç´ è¿›è¡Œåˆ†ç»„
   ```

2. é“¾è¡¨ç»“æ„ / çº¢é»‘æ ‘ç»“æ„ï¼š

   ```apl
   æŠŠå“ˆå¸Œå€¼ç›¸åŒçš„å…ƒç´ æ”¾ç½®åœ¨ä¸€èµ·
   ```


**5.2ã€è¿‡ç¨‹å±•ç¤ºï¼š**





<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E9%93%BE%E8%A1%A8%E8%BD%AC%E7%BA%A2%E9%BB%91%E6%A0%91.png" alt="é“¾è¡¨è½¬æ¢çº¢é»‘æ ‘" style="zoom: 80%;" />

**5.3ã€å“ˆå¸Œå†²çªï¼š**

![å“ˆå¸Œå†²çª](https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81.png)



## 6ã€<span style="color:brown">HashSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰ç±»å‹å…ƒç´ ï¼š</span>

### <!--HashSeté›†åˆå­˜æ”¾è‡ªå®šä¹‰å…ƒç´ æ—¶ï¼Œéœ€è¦å¯¹è±¡é‡å†™hashCode()ã€equals()-->

```java
public class Person {
    private String name;
    private int age;
	// constructorã€Getter and Setterã€toString
    /**
      *é‡å†™hashCode()ã€equals()
      */
    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (o == null || getClass() != o.getClass()) {
            return false;
        }
        Person person = (Person) o;
        return age == person.age && Objects.equals(name, person.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }
}
```

```java
public class HashSetDemo {
    public static void main(String[] args) {
        Person p1 = new Person("Java",205);
        Person p2 = new Person("Java",205);
        Person p3 = new Person("Java",150);
        HashSet<Person> set = new HashSet<>();
        set.add(p1);
        set.add(p2);
        set.add(p3);
        System.out.println(p1.hashCode());		//71347852
        System.out.println(p2.hashCode());		//71347852
        System.out.println(p3.hashCode());		//71347797
        System.out.println(set);		//[Person{name='Java', age=150}, Person{name='Java', age=205}]
    }
}
```



