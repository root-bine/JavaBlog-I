## 1ã€<span style="color:brown">æŠ›å‡ºå¼‚å¸¸__throwï¼š</span>

**1.1ã€ä½œç”¨ï¼š**

```apl
åœ¨æŒ‡å®šçš„æ–¹æ³•ä¸­, æŒ‡å®šçš„å¼‚å¸¸
```

**1.2ã€ä½¿ç”¨æ ¼å¼ï¼š**

```java
throw new xxxException("å¼‚å¸¸äº§ç”Ÿçš„åŸå› ")
```

**1.3ã€æ³¨æ„äº‹é¡¹ï¼š**

1. throwå…³é”®å­—å¿…é¡»å†™åœ¨***æ–¹æ³•çš„å†…éƒ¨***ï¼›
2. throwå…³é”®å­—åé¢`newçš„å¯¹è±¡å¿…é¡»æ˜¯Exceptionæˆ–è€…Exceptionçš„å­ç±»`ï¼›
3. throwå…³é”®å­—æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œå¤„ç†ï¼š
   - throwå…³é”®å­—åè¾¹åˆ›å»ºçš„æ˜¯RuntimeExceptionæˆ–è€…æ˜¯RuntimeExceptionçš„å­ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¤„ç†ã€‚é»˜è®¤äº¤ç»™JVMå¤„ç†(æ‰“å°å¼‚å¸¸å¯¹è±¡,ä¸­æ–­ç¨‹åº)
   - throwå…³é”®å­—åè¾¹åˆ›å»ºçš„æ˜¯ç¼–è¯‘å¼‚å¸¸(å†™ä»£ç çš„æ—¶å€™æŠ¥é”™)ï¼Œæˆ‘ä»¬å°±å¿…é¡»å¤„ç†è¿™ä¸ªå¼‚å¸¸ã€‚è¦ä¹ˆthrowsï¼Œè¦ä¹ˆtry-catch

**1.4ã€èŒƒä¾‹ï¼š**

```java
public class Demo01 {
    public static void main(String[] args) {
        /*int[] array1 = null;
        int element1 = getElement(array1,0);
        System.out.println(element1);*/
        int[] array2 = new int[3];
        int element2 = getElement(array2, 3);
        System.out.println(element2);
    }
    public static int getElement(int[] arr, int index){
        if(arr == null){
            throw new NullPointerException("æ•°ç»„ä¸ºnullå€¼");
        }
        if(index<0 || index>arr.length-1){
            throw new ArrayIndexOutOfBoundsException("æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸");
        }
        int element = arr[index];
        return element;
    }
}
```

å¼‚å¸¸1ï¼š

```scss
Exception in thread "main" java.lang.NullPointerException: æ•°ç»„ä¸ºnullå€¼
	at test.Demo01.getElement(Demo01.java:14)
	at test.Demo01.main(Demo01.java:6)
```

å¼‚å¸¸2ï¼š

```scss
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸
	at test.Demo01.getElement(Demo01.java:18)
	at test.Demo01.main(Demo01.java:10)
```



## 2ã€<span style="color:brown">Objectséç©ºåˆ¤æ–­ï¼š</span>

**2.1ã€æ¦‚è¿°ï¼š**

```scss
Objectså·¥å…·ç±»æ˜¯ç”±ä¸€äº›é™æ€æ–¹æ³•ç»„æˆ, è¿™äº›æ–¹æ³•å…¨éƒ¨æ˜¯null-safe[ç©ºæŒ‡é’ˆå®‰å…¨] æˆ–è€… null-tolerant[å®¹å¿ç©ºæŒ‡é’ˆ]
```

**2.2ã€éç©ºåˆ¤åˆ«æ–¹æ³•ï¼š**

```java
public static <T> T requireNonNull(T obj)
    æŸ¥çœ‹å¼•ç”¨å¯¹è±¡æ˜¯ä¸æ˜¯null;
```

**2.3ã€æºç ï¼š**

```java
public static <T> T requireNonNull(T obj){
    if(obj == null){
        throw new NullPointerException();
    }
    return obj;
}
```

**2.4ã€èŒƒä¾‹ï¼š**

```java
public class Demo02 {
    public static void main(String[] args) {
        method(null);
    }
    public static void method(Object obj){
        /*if(obj == null){
            throw new NullPointerException("ä¼ é€’å¯¹è±¡å€¼ä¸ºnull");
        }*/
        Objects.requireNonNull(obj,"ä¼ é€’å¯¹è±¡å€¼ä¸ºnull");
    }
}
```

```apl
Exception in thread "main" java.lang.NullPointerException: ä¼ é€’å¯¹è±¡å€¼ä¸ºnull
	at java.util.Objects.requireNonNull(Objects.java:228)
	at test.Demo02.method(Demo02.java:13)
	at test.Demo02.main(Demo02.java:7)
```



## 3ã€<span style="color:brown">å£°æ˜å¼‚å¸¸__throwsï¼š</span>å¼‚å¸¸å¤„ç†ç¬¬ä¸€ç§æ–¹å¼ï¼ï¼

**3.1ã€ä½œç”¨ï¼š**

```apl
å½“æ–¹æ³•å†…éƒ¨æŠ›å‡ºå¼‚å¸¸, å¯ä»¥ä½¿ç”¨throwså…³é”®å­—, å°†è¯¥å¼‚å¸¸å¯¹è±¡"å£°æ˜æŠ›å‡ºç»™è°ƒç”¨è€…è§£å†³", æœ€ç»ˆäº¤ç»™'JVMå¤„ç†--->ä¸­æ–­å¤„ç†'
```

**3.2ã€ä½¿ç”¨æ ¼å¼ï¼š**

```java
ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å‚æ•°åˆ—è¡¨) throws AAAException,BBBException{
    throw new AAAException("å¼‚å¸¸äº§ç”Ÿçš„åŸå› ");
    throw new BBBException("å¼‚å¸¸äº§ç”Ÿçš„åŸå› ");
    ...
}
```

**3.3ã€æ³¨æ„äº‹é¡¹ï¼š**

1. throwså¿…é¡»å†™åœ¨æ–¹æ³•å¤´å¤„å£°æ˜ï¼›

2. throwså…³é”®å­—åé¢`newçš„å¯¹è±¡å¿…é¡»æ˜¯Exceptionæˆ–è€…Exceptionçš„å­ç±»`ï¼›

3. å¦‚æœæ–¹æ³•å†…éƒ¨æŠ›å‡ºå¤šä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œé‚£ä¹ˆthrowsåé¢å¿…é¡»å£°æ˜å¤šä¸ªå¼‚å¸¸å¯¹è±¡ï¼š

   ```apl
   å¦‚æœæŠ›å‡ºçš„å¤šä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œå­˜åœ¨'å­çˆ¶ç±»å…³ç³»'ï¼Œé‚£ä¹ˆåªéœ€è¦"å£°æ˜çˆ¶ç±»å¼‚å¸¸å¯¹è±¡"å³å¯
   ```

4. è°ƒç”¨äº†ä¸€ä¸ªå£°æ˜å¼‚å¸¸çš„æ–¹æ³•ï¼Œè§£å†³æ–¹å¼ï¼š

   - ç»§ç»­ä½¿ç”¨throwså£°æ˜æŠ›å‡ºï¼Œç„¶åäº¤ç»™è°ƒç”¨è€…ï¼Œæœ€ç»ˆäº¤ç»™JVMå¤„ç†ï¼›
   - ä½¿ç”¨try---catch



## 4ã€<span style="color:brown">æ•è·å¼‚å¸¸__try---catchï¼š</span>å¼‚å¸¸å¤„ç†ç¬¬äºŒç§æ–¹å¼ï¼ï¼

**4.1ã€æ ¼å¼ï¼š**

```java
try{
    ã€å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç ã€‘
}catch(å®šä¹‰ä¸€ä¸ªå¼‚å¸¸å˜é‡ï¼Œæ¥æ”¶tryä¸­çš„å¼‚å¸¸å¯¹è±¡){
    ã€å¼‚å¸¸çš„å¤„ç†é€»è¾‘ã€‘
}
...
catch(...){
    ...    
}
```

**4.2ã€æ³¨æ„äº‹é¡¹ï¼š**

1. tryä¸­å¯èƒ½ä¼šæŠ›å‡ºå¤šä¸ªå¼‚å¸¸å¯¹è±¡ï¼Œéœ€è¦å¤šä¸ªcatchæ¨¡å—æ¥è¿›è¡Œæ¥æ”¶ï¼›
2. å¦‚æœtryä¸­äº§ç”Ÿäº†å¼‚å¸¸ã€æ­¤æ—¶tryä¸­çš„å†…å®¹ä»å¼‚å¸¸å¤„åœæ­¢è¿è¡Œï¼Œç›´æ¥è·³è½¬åˆ°catchä¸­ã€‘ï¼Œå°±ä¼šæ‰§è¡Œcatchä¸­çš„ã€å¼‚å¸¸å¤„ç†é€»è¾‘ã€‘ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç»§ç»­æ‰§è¡Œtry---catchä¹‹åçš„ä»£ç ï¼›
3. å¦‚æœtryä¸­æ²¡æœ‰äº§ç”Ÿå¼‚å¸¸ï¼Œå°±ç›´æ¥æ‰§è¡Œtryä¸­çš„ä»£ç ï¼Œç„¶åç»§ç»­æ‰§è¡Œtry---catchä¹‹åçš„ä»£ç ï¼›



## 5ã€<span style="color:brown">æ‰“å°å¼‚å¸¸ä¿¡æ¯ï¼š</span>å¼‚å¸¸å¤„ç†ç¬¬ä¸‰ç§æ–¹å¼ï¼ï¼

**5.1ã€å¤„ç†å¼‚å¸¸çš„æ–¹æ³•ï¼š**

```java
String getMessage()
    è·å–å¼‚å¸¸çš„æè¿°ã€åŸå› ;
```

```java
String toString()
    è·å–å¼‚å¸¸çš„ç±»å‹å’Œæè¿°ä¿¡æ¯;
```

```java
void printStackTrace()
    æ‰“å°å¼‚å¸¸çš„è·Ÿè¸ªæ ˆä¿¡æ¯ï¼Œå¹¶è¾“å‡ºåœ¨æ§åˆ¶å°;
```

**5.2ã€èŒƒä¾‹ï¼š**

```java
public class Demo03 {
    public static void main(String[] args) {
        try {
            readFile("D:\\a.tx");
        } catch (IOException e) {
            /**
             * System.out.println(e.getMessage());
             * æ–‡ä»¶åç¼€åä¸å¯¹
             */
            
            /**
             * æ­¤å¤„é‡å†™äº†Objectç±»ä¸­çš„toString()æ–¹æ³•
             * System.out.println(e.toString());
             * java.io.IOException: æ–‡ä»¶åç¼€åä¸å¯¹
             */
            //System.out.println(e);
            
            /**
             *java.io.IOException: æ–‡ä»¶åç¼€åä¸å¯¹
             *     at test.Demo03.readFile(Demo03.java:26)
             *     at test.Demo03.main(Demo03.java:8)
             */
            e.printStackTrace();
        }
        System.out.println("åç»­ä»£ç ");
    }
    public static void readFile(String fileName) throws IOException {
        if(!fileName.endsWith(".txt")){
            throw new IOException("æ–‡ä»¶åç¼€åä¸å¯¹");
        }
        System.out.println("è·¯å¾„æ²¡æœ‰é—®é¢˜ï¼Œè¯»å–æ–‡ä»¶");
    }
}
```



## 6ã€<span style="color:brown">finallyä»£ç å—ï¼š</span>ğŸ”ğŸ”ğŸ”

### <span style="color:green">finallyä»£ç å—ä¸­çš„å†…å®¹ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œå‡å¯ä»¥æ‰§è¡Œï¼ï¼ï¼</span>

**6.1ã€æ ¼å¼ï¼š**

```java
try{
    ã€å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç ã€‘
}catch(å®šä¹‰ä¸€ä¸ªå¼‚å¸¸å˜é‡ï¼Œæ¥æ”¶tryä¸­çš„å¼‚å¸¸å¯¹è±¡){
    ã€å¼‚å¸¸çš„å¤„ç†é€»è¾‘ã€‘
}
...
catch(...){
    ...    
}
finally{
    
}
```

æ³¨æ„äº‹é¡¹ï¼š

1. finallyä»£ç å—æ— æ³•å•ç‹¬ä½¿ç”¨ï¼Œåªèƒ½ä¸try---catchç»“åˆä½¿ç”¨ï¼›
2. `finallyä»£ç å—ä¸€èˆ¬ç”¨äºèµ„æºé‡Šæ”¾`ï¼Œ<u>æ— è®ºå‡ºç°å¼‚å¸¸ä¸å¦ï¼Œéƒ½è¦è¿›è¡Œèµ„æºé‡Šæ”¾</u>ï¼›

**6.2ã€æ¡ˆä¾‹åˆ†æï¼š**

```java
public class Main {
    public static void main(String[] args) {
        int i = 1;
        System.out.println(test(i));// hello 2
    }
    private static int test(int i) {
        try{
            return ++i;
        }finally {
            i++;
            System.out.println("hello");
        }
    }
}
```

ä¸Šè¿°ä»£ç è‹¥åœ¨`finally`çš„è¾“å…¥è¯­å¥ååŠ å…¥`return i`ï¼Œåˆ™æœ€åè¾“å‡ºç»“æœä¸ºï¼š`hello 3`ã€‚

